<!-- views/logs.ejs -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>

<div class="card">
  <div class="card-header">
    <h3 class="card-title">Riwayat Pesan</h3>
  </div>
  <div class="card-body table-responsive">
    <table id="logsTable" class="table table-bordered table-hover">
      <thead>
        <tr>
          <th width="20">ID</th>
          <th>Nomor</th>
          <th>Pesan</th>
          <th>Status</th>
          <th>Waktu</th>
        </tr>
      </thead>
      <tbody>
        <!-- Data akan dimuat secara dinamis via AJAX -->
      </tbody>
    </table>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('#logsTable').DataTable({
      serverSide: true,
      processing: true,
      ajax: {
        url: '/logs/data',
        type: 'GET'
      },
      pageLength: 10,
      lengthChange: false,
      columns: [
        { data: 'id' },
        { data: 'phone' },
        { data: 'message' },
        { data: 'status' },
        { data: 'timestamp' }
      ]
    });
  });
</script>
